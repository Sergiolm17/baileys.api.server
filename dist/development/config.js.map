{"version":3,"file":"config.js","names":["config","packages","e","commander","Command","version","Math","floor","random","usage","option","parse","process","argv","options","opts","Object","assign","port","parseInt","maxListeners","logPretty","stringToBoolean","printQRInTerminal","logColorize","logMessageFormat","logTranslateTime","startAllSession","mediaAutoDownload","webhookReadMessage","mergeDeep","fs","existsSync","sessionDirectory","mkdirSync","recursive","json","JSON","readFileSync","module","exports"],"sources":["../../node/config.js"],"sourcesContent":["import { Command } from 'commander';\nimport mergeDeep from 'merge-deep';\nimport fs from 'fs';\nimport { stringToBoolean } from './util/functions';\nconst config = {};\n\nconst packages = async () => {\n  try {\n    return await import('../package.json');\n  } catch (e) {}\n};\n\nconst commander = new Command();\n\ncommander\n  .version(packages.version ? packages.version : Math.floor(Math.random() * 200), '-v, --version')\n  .usage('[OPTIONS]...')\n  .option('-sk, --secretKey <value>', 'Define secret key to genereta access token', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ')\n  .option('-p, --port <number>', 'Define listing port', 3333)\n  .option('-an, --applicationName <value>', 'Define application name', 'WhatsApp.Bot')\n  .option('-ll, --logLevel <value>', 'Define log level', 'debug')\n  .option('-lp, --logPretty <value>', 'Define log pretty print', true)\n  .option('-qr, --printQRInTerminal <value>', 'Define print qrcode in terminal', true)\n  .option('-lc, --logColorize <value>', 'Define log colorize print', true)\n  .option('-lmf, --logMessageFormat <value>', 'Define log message format', false)\n  .option('-ltm, --logTranslateTime <value>', 'Define log translate the epoch time value into a human readable date and time string', true)\n  .option('-bn, --browserName <value>', 'Set device browser name', 'Chrome')\n  .option('-sas, --startAllSession <value>', 'Define starts all sessions when starting the server', true)\n  .option('-ml, --maxListeners <number>', 'Define the maximum global listeners. 0 = infinity', 15)\n  .option('-sd, --sessionDirectory <value>', 'Define sessionDirectory for each whatsapp instance for working with multi device', './session/')\n  .option('-wu, --webhookUrl <value>', 'Define event webhook url to send all event', 'http://127.0.0.1:3000/hook/')\n  .option('-wad, --mediaAutoDownload <value>', 'Define automatically downloads files to upload to the webhook', true)\n  .option('-wrm, --webhookReadMessage <value>', 'Define to marks messages as read when the webhook returns ok', true)\n  .option('-suc, --sendUnreadCount <value>', 'Define to load message count from unread chats', 100)\n  .option('-c, --config <value>', 'Read config from json file or json string', {})\n  .parse(process.argv);\n\nlet options = commander.opts();\nObject.assign(options, {\n  port: parseInt(options.port),\n  maxListeners: parseInt(options.maxListeners),\n  logPretty: stringToBoolean(options.logPretty),\n  printQRInTerminal: stringToBoolean(options.printQRInTerminal),\n  logColorize: stringToBoolean(options.logColorize),\n  logMessageFormat: stringToBoolean(options.logMessageFormat),\n  logTranslateTime: stringToBoolean(options.logTranslateTime),\n  startAllSession: stringToBoolean(options.startAllSession),\n  mediaAutoDownload: stringToBoolean(options.mediaAutoDownload),\n  webhookReadMessage: stringToBoolean(options.webhookReadMessage),\n});\noptions = mergeDeep({}, config, options);\nif (!fs.existsSync(options.sessionDirectory)) {\n  fs.mkdirSync(options.sessionDirectory, { recursive: true });\n}\nif (fs.existsSync(options.config)) {\n  try {\n    const json = JSON.parse(fs.readFileSync(options.config));\n    options = mergeDeep(options, json);\n  } catch (e) {}\n} else {\n  try {\n    const json = JSON.parse(options.config);\n    options = mergeDeep(options, json);\n  } catch (e) {}\n}\n\nmodule.exports = {\n  ...options,\n};\n"],"mappings":"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"}