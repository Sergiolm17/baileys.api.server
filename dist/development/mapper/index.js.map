{"version":3,"file":"index.js","names":["convert","prefix","data","event","indexOf","eventMapped","configEvent","typeMapped","configType","type","Object","assign","mapper","e","default","mapped","undefined","mappConf"],"sources":["../../../node/mapper/index.js"],"sourcesContent":["import mapper from 'json-mapper-json';\n\nexport async function convert(prefix, data, event) {\n  try {\n    data.event = event || data.event;\n    event = data.event.indexOf('message') >= 0 ? 'message' : data.event;\n    let eventMapped = await configEvent(prefix, event);\n    let typeMapped = await configType(prefix, event, data.type);\n    Object.assign(eventMapped, typeMapped);\n    if (!eventMapped) return data;\n    return await mapper(data, eventMapped);\n  } catch (e) {\n    return data;\n  }\n}\n\nasync function configEvent(prefix, event) {\n  try {\n    let { default: mapped } = await import(`./${prefix}${event}.js`);\n    if (!mapped) return undefined;\n    return mapped;\n  } catch (e) {\n    return undefined;\n  }\n}\n\nasync function configType(prefix, event, type) {\n  try {\n    let { default: mappConf } = await import(`./${prefix}${event}-${type}.js`);\n    if (!mappConf) return undefined;\n    return mappConf;\n  } catch (e) {\n    return undefined;\n  }\n}\n"],"mappings":"0LAAA,0E;;AAEO,eAAeA,OAAf,CAAuBC,MAAvB,EAA+BC,IAA/B,EAAqCC,KAArC,EAA4C;EACjD,IAAI;IACFD,IAAI,CAACC,KAAL,GAAaA,KAAK,IAAID,IAAI,CAACC,KAA3B;IACAA,KAAK,GAAGD,IAAI,CAACC,KAAL,CAAWC,OAAX,CAAmB,SAAnB,KAAiC,CAAjC,GAAqC,SAArC,GAAiDF,IAAI,CAACC,KAA9D;IACA,IAAIE,WAAW,GAAG,MAAMC,WAAW,CAACL,MAAD,EAASE,KAAT,CAAnC;IACA,IAAII,UAAU,GAAG,MAAMC,UAAU,CAACP,MAAD,EAASE,KAAT,EAAgBD,IAAI,CAACO,IAArB,CAAjC;IACAC,MAAM,CAACC,MAAP,CAAcN,WAAd,EAA2BE,UAA3B;IACA,IAAI,CAACF,WAAL,EAAkB,OAAOH,IAAP;IAClB,OAAO,MAAM,IAAAU,uBAAA,EAAOV,IAAP,EAAaG,WAAb,CAAb;EACD,CARD,CAQE,OAAOQ,CAAP,EAAU;IACV,OAAOX,IAAP;EACD;AACF;;AAED,eAAeI,WAAf,CAA2BL,MAA3B,EAAmCE,KAAnC,EAA0C;EACxC,IAAI;IACF,IAAI,EAAEW,OAAO,EAAEC,MAAX,KAAsB,sBAAc,KAAId,MAAO,GAAEE,KAAM,KAAjC,kDAA1B;IACA,IAAI,CAACY,MAAL,EAAa,OAAOC,SAAP;IACb,OAAOD,MAAP;EACD,CAJD,CAIE,OAAOF,CAAP,EAAU;IACV,OAAOG,SAAP;EACD;AACF;;AAED,eAAeR,UAAf,CAA0BP,MAA1B,EAAkCE,KAAlC,EAAyCM,IAAzC,EAA+C;EAC7C,IAAI;IACF,IAAI,EAAEK,OAAO,EAAEG,QAAX,KAAwB,sBAAc,KAAIhB,MAAO,GAAEE,KAAM,IAAGM,IAAK,KAAzC,kDAA5B;IACA,IAAI,CAACQ,QAAL,EAAe,OAAOD,SAAP;IACf,OAAOC,QAAP;EACD,CAJD,CAIE,OAAOJ,CAAP,EAAU;IACV,OAAOG,SAAP;EACD;AACF"}